---

name: splunk-nozzle
templates:
  ctl.sh.erb: bin/ctl.sh

packages:
- common
- splunk-nozzle

properties:
  cf_splunk:
    skip_ssl_validation:
      description: Skip ssl validation (for self signed certs, useful in dev environments)
      default: false

    add_app_info:
      description: When true, nozzle will query cloud controller to add name, space, org
      default: false
    api_endoint:
      description: CF api for adding app info
    api_user:
      description: User to authenticate against cf API (needs cloud_controller.admin or cloud_controller.admin_read_only)
    api_password:
      description: Password for cf_splunk.firehose_user

    doppler_endpoint:
      description: The value of key "logging_endpoint" from /v2/info
    events:
      description: Comma separated list (without spaces) of events to include from list of HttpStartStop, LogMessage, ValueMetric, CounterEvent, Error, ContainerMetric
      default: ValueMetric,CounterEvent,Error,ContainerMetric
    firehose_subscription_id:
      description: Unique identified for nozzle. Only need to change if splunk-firehose-nozzle-releases are deployed
      default: splunk-firehose-subscription

    splunk_token:
      description: Credentials for talking to the HTTP event collector
    splunk_index:
      description: Splunk index
